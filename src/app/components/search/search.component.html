<section class="main-search">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="search-div">
          <div class="search-input">
            <img
              src="assets/images/search.svg"
              width="25"
              height="20"
              alt="search"
              title="search"
              class="search-icon img-fluid"
            />
            <input
              type="text"
              [(ngModel)]="searchQuery"
              (input)="onSearchChange(searchQuery)"
              placeholder="Search for a country or region..."
              class="text-base"
            />
          </div>

          <!-- Show the dropdown only if there is a search query -->
          <div
            *ngIf="searchQuery && filteredSearchData.length > 0"
            class="search-result"
          >
            <ul>
              <li
                *ngFor="let item of filteredSearchData"
                (click)="selectEvent(item)"
              >
                <button>
                  {{ item.countryNameandAlias || item.regionName || item.CountryName }}


                  <img
                  *ngIf="item.flag; else altImage"
                  [src]="'/assets/flags/' + item.flag + '.svg'"
                  [alt]="item.CountryName"
                  [title]="item.CountryName"
                  
                  class="img-fluid flag "
                />
                <ng-template #altImage>
                  <img
                    [src]="'/assets/flags/' + item.CountryName + '.svg'"
                    [alt]="item.CountryName + ' flag'"
                    [title]="item.CountryName + ' flag'"
                    class="img-fluid flag "
                  />
                </ng-template>

                </button>
              </li>
            </ul>
          </div>

          <!-- Optional: Show a message if no results are found -->
          <div
            class="mt-3 font-semibold text-sm text-white"
            *ngIf="searchQuery && filteredSearchData.length === 0"
          >
            No results found.
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
